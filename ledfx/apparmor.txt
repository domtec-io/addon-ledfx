#include <tunables/global>

profile ledfx flags=(attach_disconnected, mediate_deleted) {
  #include <abstractions/base>

  capability net_bind_service,
  capability sys_nice,

  network inet stream,
  network inet6 stream,

  /usr/local/lib/ledfx/** rix,
  /usr/local/bin/ledfx ix,
  /root/.ledfx/** rwk,

  /usr/bin/python3 ix,
  /usr/lib/python3.*/** rix,

  /dev/snd/** rw,

  /tmp/** rwk,
  /var/log/ledfx/** rwk,

  /bin/dash ix,
  /bin/bash ix,
  /usr/bin/env ix,

  /etc/ledfx/** r,
  /etc/asound.conf r,
  /etc/machine-id r,
  /proc/asound/** r,
}
